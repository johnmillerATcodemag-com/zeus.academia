{"version":3,"file":"LoginView-OZgjnkGc.js","sources":["../../src/views/LoginView.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-page min-vh-100 d-flex align-items-center justify-content-center\">\r\n    <div class=\"container\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-md-6 col-lg-4\">\r\n          <div class=\"card shadow-lg\">\r\n            <div class=\"card-body p-4\">\r\n              <div class=\"text-center mb-4\">\r\n                <h2 class=\"fw-bold text-zeus-primary\">Zeus Academia</h2>\r\n                <p class=\"text-muted\">Administrative Interface</p>\r\n              </div>\r\n\r\n              <!-- Login Form -->\r\n              <form @submit.prevent=\"handleLogin\">\r\n                <div class=\"mb-3\">\r\n                  <label for=\"email\" class=\"form-label\">Email Address</label>\r\n                  <input\r\n                    id=\"email\"\r\n                    v-model=\"loginForm.email\"\r\n                    type=\"email\"\r\n                    class=\"form-control\"\r\n                    :class=\"{ 'is-invalid': errors.email }\"\r\n                    placeholder=\"Enter your email\"\r\n                    required\r\n                    :disabled=\"loading\"\r\n                  />\r\n                  <div v-if=\"errors.email\" class=\"invalid-feedback\">\r\n                    {{ errors.email }}\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"mb-3\">\r\n                  <label for=\"password\" class=\"form-label\">Password</label>\r\n                  <input\r\n                    id=\"password\"\r\n                    v-model=\"loginForm.password\"\r\n                    type=\"password\"\r\n                    class=\"form-control\"\r\n                    :class=\"{ 'is-invalid': errors.password }\"\r\n                    placeholder=\"Enter your password\"\r\n                    required\r\n                    :disabled=\"loading\"\r\n                  />\r\n                  <div v-if=\"errors.password\" class=\"invalid-feedback\">\r\n                    {{ errors.password }}\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- MFA Code (if required) -->\r\n                <div v-if=\"showMfaInput\" class=\"mb-3\">\r\n                  <label for=\"mfaCode\" class=\"form-label\">\r\n                    Multi-Factor Authentication Code\r\n                  </label>\r\n                  <input\r\n                    id=\"mfaCode\"\r\n                    v-model=\"loginForm.mfaCode\"\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    :class=\"{ 'is-invalid': errors.mfaCode }\"\r\n                    placeholder=\"Enter your MFA code\"\r\n                    maxlength=\"6\"\r\n                    :disabled=\"loading\"\r\n                  />\r\n                  <div v-if=\"errors.mfaCode\" class=\"invalid-feedback\">\r\n                    {{ errors.mfaCode }}\r\n                  </div>\r\n                  <small class=\"form-text text-muted\">\r\n                    Enter the 6-digit code from your authenticator app\r\n                  </small>\r\n                </div>\r\n\r\n                <!-- Error Display -->\r\n                <div v-if=\"authError\" class=\"alert alert-danger\" role=\"alert\">\r\n                  {{ authError }}\r\n                </div>\r\n\r\n                <!-- Submit Button -->\r\n                <div class=\"d-grid\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    class=\"btn btn-primary btn-lg\"\r\n                    :disabled=\"loading\"\r\n                  >\r\n                    <span\r\n                      v-if=\"loading\"\r\n                      class=\"spinner-border spinner-border-sm me-2\"\r\n                      role=\"status\"\r\n                      aria-hidden=\"true\"\r\n                    ></span>\r\n                    {{ loading ? \"Signing In...\" : \"Sign In\" }}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n\r\n              <!-- Additional Options -->\r\n              <div class=\"text-center mt-3\">\r\n                <small class=\"text-muted\">\r\n                  For security purposes, administrative access requires\r\n                  multi-factor authentication.\r\n                </small>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Security Notice -->\r\n          <div class=\"card mt-3\">\r\n            <div class=\"card-body text-center py-3\">\r\n              <small class=\"text-muted\">\r\n                <i class=\"bi bi-shield-lock me-1\"></i>\r\n                This is a secure administrative interface. All actions are logged and monitored.\r\n              </small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, reactive, onMounted } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { useAuthStore } from '@/stores/auth'\r\n\r\nconst router = useRouter()\r\nconst route = useRoute()\r\nconst authStore = useAuthStore()\r\n\r\nconst loading = ref(false)\r\nconst authError = ref('')\r\nconst showMfaInput = ref(false)\r\n\r\nconst loginForm = reactive({\r\n  email: '',\r\n  password: '',\r\n  mfaCode: '',\r\n})\r\n\r\nconst errors = reactive({\r\n  email: '',\r\n  password: '',\r\n  mfaCode: '',\r\n})\r\n\r\nconst validateForm = (): boolean => {\r\n  // Reset errors\r\n  errors.email = ''\r\n  errors.password = ''\r\n  errors.mfaCode = ''\r\n\r\n  let isValid = true\r\n\r\n  // Email validation\r\n  if (!loginForm.email) {\r\n    errors.email = 'Email is required'\r\n    isValid = false\r\n  } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(loginForm.email)) {\r\n    errors.email = 'Please enter a valid email address'\r\n    isValid = false\r\n  }\r\n\r\n  // Password validation\r\n  if (!loginForm.password) {\r\n    errors.password = 'Password is required'\r\n    isValid = false\r\n  } else if (loginForm.password.length < 8) {\r\n    errors.password = 'Password must be at least 8 characters'\r\n    isValid = false\r\n  }\r\n\r\n  // MFA validation (if required)\r\n  if (showMfaInput.value) {\r\n    if (!loginForm.mfaCode) {\r\n      errors.mfaCode = 'MFA code is required'\r\n      isValid = false\r\n    } else if (!/^\\d{6}$/.test(loginForm.mfaCode)) {\r\n      errors.mfaCode = 'MFA code must be 6 digits'\r\n      isValid = false\r\n    }\r\n  }\r\n\r\n  return isValid\r\n}\r\n\r\nconst handleLogin = async () => {\r\n  if (!validateForm()) return\r\n\r\n  loading.value = true\r\n  authError.value = ''\r\n\r\n  try {\r\n    const result = await authStore.login(\r\n      loginForm.email,\r\n      loginForm.password,\r\n      loginForm.mfaCode || undefined\r\n    )\r\n\r\n    if (result.success) {\r\n      // Redirect to intended page or dashboard\r\n      const redirectPath = (route.query.redirect as string) || '/dashboard'\r\n      await router.push(redirectPath)\r\n    } else {\r\n      // Check if MFA is required\r\n      if (result.error?.includes('MFA') || result.error?.includes('multi-factor')) {\r\n        showMfaInput.value = true\r\n        authError.value = 'Please enter your multi-factor authentication code'\r\n      } else {\r\n        authError.value = result.error || 'Login failed. Please try again.'\r\n      }\r\n    }\r\n  } catch (error: any) {\r\n    console.error('Login error:', error)\r\n    authError.value = 'An unexpected error occurred. Please try again.'\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// Check for redirect message\r\nonMounted(() => {\r\n  if (route.query.message) {\r\n    authError.value = route.query.message as string\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login-page {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  position: relative;\r\n  \r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><defs><pattern id=\"grain\" width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\"><circle cx=\"25\" cy=\"25\" r=\"1\" fill=\"rgba(255,255,255,0.1)\"/><circle cx=\"75\" cy=\"75\" r=\"1\" fill=\"rgba(255,255,255,0.1)\"/><circle cx=\"50\" cy=\"10\" r=\"0.5\" fill=\"rgba(255,255,255,0.05)\"/><circle cx=\"10\" cy=\"50\" r=\"0.5\" fill=\"rgba(255,255,255,0.05)\"/><circle cx=\"90\" cy=\"30\" r=\"0.5\" fill=\"rgba(255,255,255,0.05)\"/></pattern></defs><rect width=\"100\" height=\"100\" fill=\"url(%23grain)\"/></svg>');\r\n    opacity: 0.3;\r\n  }\r\n  \r\n  .container {\r\n    position: relative;\r\n    z-index: 1;\r\n  }\r\n}\r\n\r\n.card {\r\n  border: none;\r\n  border-radius: 1rem;\r\n  backdrop-filter: blur(10px);\r\n  background: rgba(255, 255, 255, 0.95);\r\n}\r\n\r\n.text-zeus-primary {\r\n  color: var(--zeus-primary);\r\n}\r\n\r\n.form-control {\r\n  border-radius: 0.5rem;\r\n  border: 2px solid #e9ecef;\r\n  padding: 0.75rem 1rem;\r\n  \r\n  &:focus {\r\n    border-color: var(--zeus-primary);\r\n    box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);\r\n  }\r\n  \r\n  &.is-invalid {\r\n    border-color: var(--zeus-danger);\r\n  }\r\n}\r\n\r\n.btn-primary {\r\n  border-radius: 0.5rem;\r\n  padding: 0.75rem 1.5rem;\r\n  font-weight: 600;\r\n  letter-spacing: 0.025em;\r\n  transition: all 0.3s ease;\r\n  \r\n  &:hover:not(:disabled) {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 5px 15px rgba(44, 62, 80, 0.4);\r\n  }\r\n  \r\n  &:disabled {\r\n    opacity: 0.7;\r\n  }\r\n}\r\n\r\n.alert {\r\n  border-radius: 0.5rem;\r\n  border: none;\r\n}\r\n\r\n.spinner-border-sm {\r\n  width: 1rem;\r\n  height: 1rem;\r\n}\r\n\r\n// Animation for MFA input\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.fade-enter-from,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n  transform: translateY(-10px);\r\n}\r\n</style>"],"names":["router","useRouter","route","useRoute","authStore","useAuthStore","loading","ref","authError","showMfaInput","loginForm","reactive","errors","validateForm","isValid","handleLogin","result","redirectPath","_a","_b","error","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_cache","$event","_normalizeClass","_vModelText","_hoisted_9","_toDisplayString","_hoisted_10","_hoisted_12","_hoisted_13","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_19","_createTextVNode"],"mappings":"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"}