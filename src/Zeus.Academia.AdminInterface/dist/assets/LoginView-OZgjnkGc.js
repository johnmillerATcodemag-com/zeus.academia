import{a as A,r as p,n as g,o as q,u as M,e as d,g as e,w as V,p as u,q as v,v as b,s as y,t as c,x as w,i as n,y as E}from"./vendor-CycBcXxj.js";import{u as F}from"./index-B4Vq0GNY.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ui-di-GGlkx.js";const S={class:"login-page min-vh-100 d-flex align-items-center justify-content-center"},I={class:"container"},L={class:"row justify-content-center"},B={class:"col-md-6 col-lg-4"},N={class:"card shadow-lg"},T={class:"card-body p-4"},U={class:"mb-3"},j=["disabled"],z={key:0,class:"invalid-feedback"},D={class:"mb-3"},R=["disabled"],$={key:0,class:"invalid-feedback"},Z={key:0,class:"mb-3"},G=["disabled"],H={key:0,class:"invalid-feedback"},J={key:1,class:"alert alert-danger",role:"alert"},K={class:"d-grid"},O=["disabled"],Q={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},W=A({__name:"LoginView",setup(X){const _=E(),m=M(),h=F(),r=p(!1),l=p(""),f=p(!1),t=g({email:"",password:"",mfaCode:""}),a=g({email:"",password:"",mfaCode:""}),x=()=>{a.email="",a.password="",a.mfaCode="";let i=!0;return t.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(a.email="Please enter a valid email address",i=!1):(a.email="Email is required",i=!1),t.password?t.password.length<8&&(a.password="Password must be at least 8 characters",i=!1):(a.password="Password is required",i=!1),f.value&&(t.mfaCode?/^\d{6}$/.test(t.mfaCode)||(a.mfaCode="MFA code must be 6 digits",i=!1):(a.mfaCode="MFA code is required",i=!1)),i},C=async()=>{var i,s;if(x()){r.value=!0,l.value="";try{const o=await h.login(t.email,t.password,t.mfaCode||void 0);if(o.success){const k=m.query.redirect||"/dashboard";await _.push(k)}else(i=o.error)!=null&&i.includes("MFA")||(s=o.error)!=null&&s.includes("multi-factor")?(f.value=!0,l.value="Please enter your multi-factor authentication code"):l.value=o.error||"Login failed. Please try again."}catch(o){console.error("Login error:",o),l.value="An unexpected error occurred. Please try again."}finally{r.value=!1}}};return q(()=>{m.query.message&&(l.value=m.query.message)}),(i,s)=>(n(),d("div",S,[e("div",I,[e("div",L,[e("div",B,[e("div",N,[e("div",T,[s[7]||(s[7]=e("div",{class:"text-center mb-4"},[e("h2",{class:"fw-bold text-zeus-primary"},"Zeus Academia"),e("p",{class:"text-muted"},"Administrative Interface")],-1)),e("form",{onSubmit:V(C,["prevent"])},[e("div",U,[s[3]||(s[3]=e("label",{for:"email",class:"form-label"},"Email Address",-1)),v(e("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=o=>t.email=o),type:"email",class:y(["form-control",{"is-invalid":a.email}]),placeholder:"Enter your email",required:"",disabled:r.value},null,10,j),[[b,t.email]]),a.email?(n(),d("div",z,c(a.email),1)):u("",!0)]),e("div",D,[s[4]||(s[4]=e("label",{for:"password",class:"form-label"},"Password",-1)),v(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=o=>t.password=o),type:"password",class:y(["form-control",{"is-invalid":a.password}]),placeholder:"Enter your password",required:"",disabled:r.value},null,10,R),[[b,t.password]]),a.password?(n(),d("div",$,c(a.password),1)):u("",!0)]),f.value?(n(),d("div",Z,[s[5]||(s[5]=e("label",{for:"mfaCode",class:"form-label"}," Multi-Factor Authentication Code ",-1)),v(e("input",{id:"mfaCode","onUpdate:modelValue":s[2]||(s[2]=o=>t.mfaCode=o),type:"text",class:y(["form-control",{"is-invalid":a.mfaCode}]),placeholder:"Enter your MFA code",maxlength:"6",disabled:r.value},null,10,G),[[b,t.mfaCode]]),a.mfaCode?(n(),d("div",H,c(a.mfaCode),1)):u("",!0),s[6]||(s[6]=e("small",{class:"form-text text-muted"}," Enter the 6-digit code from your authenticator app ",-1))])):u("",!0),l.value?(n(),d("div",J,c(l.value),1)):u("",!0),e("div",K,[e("button",{type:"submit",class:"btn btn-primary btn-lg",disabled:r.value},[r.value?(n(),d("span",Q)):u("",!0),w(" "+c(r.value?"Signing In...":"Sign In"),1)],8,O)])],32),s[8]||(s[8]=e("div",{class:"text-center mt-3"},[e("small",{class:"text-muted"}," For security purposes, administrative access requires multi-factor authentication. ")],-1))])]),s[9]||(s[9]=e("div",{class:"card mt-3"},[e("div",{class:"card-body text-center py-3"},[e("small",{class:"text-muted"},[e("i",{class:"bi bi-shield-lock me-1"}),w(" This is a secure administrative interface. All actions are logged and monitored. ")])])],-1))])])])]))}}),te=P(W,[["__scopeId","data-v-a4c74c03"]]);export{te as default};
//# sourceMappingURL=LoginView-OZgjnkGc.js.map
